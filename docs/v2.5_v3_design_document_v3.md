# SOC Copilot Demo — v2.5 / v3.0 / v4.0 Design Document

**Version:** 3.0
**Date:** February 18, 2026
**Status:** v2.5 Complete and Tagged. v3.0 in Design Phase.
**ACCP Integration:** Each version progressively realizes ACCP capabilities (see Section 0)

---

## Executive Summary

v2.0 proved the architecture and added CISO-facing business impact. v2.5 added **interactivity and domain depth** — the prospect can input their own numbers (ROI Calculator), see decisions learn from outcomes (Feedback Loop), and watch the system resolve competing policies. v3.0 adds **platform depth** — full reinforcement learning on the decision graph, external context ingestion, process intelligence integration, compliance-grade audit trails, and a smarter query layer. v3.5 and v4.0 formalize the full ACCP control plane and extend to multi-domain operation.

The organizing principle: **v2.5 makes the demo personally relevant to each prospect. v3.0 makes it architecturally unassailable. v3.5/v4.0 prove the platform thesis.**

Each version progressively realizes more ACCP (Agentic Cognitive Control Plane) capabilities. The demo IS the ACCP reference implementation — not a separate product, but the same architecture shipping incrementally.

---

## SECTION 0: ACCP Capability Map

### What Is ACCP?

The Agentic Cognitive Control Plane defines five structural capabilities for governed, self-improving enterprise AI:

1. **Typed-Intent Bus** — normalizes signals into classified intents with a common schema
2. **Situational Mesh** — scores situations using context, KPIs, and drift signals
3. **Eval Gates** — enforces structural safety checks before any action executes
4. **TRIGGERED_EVOLUTION** — writes verified outcomes back to the context graph
5. **Decision Economics** — tags every action with time, cost, and risk impact

### ACCP Capabilities by Demo Version

| # | ACCP Capability | Version | Feature | Status |
|---|---|---|---|---|
| 1 | Context graph substrate | v1.0 | Neo4j with alerts, users, assets, patterns, decisions | Done |
| 2 | Situation classification (Typed-Intent) | v2.0 | Situation Analyzer — 6 types, factors, classification | Done |
| 3 | Eval gates (structural safety) | v2.0 | 4-check sequential animation, BLOCKED banner | Done |
| 4 | TRIGGERED_EVOLUTION | v2.0 | Pattern confidence updates, variant promotion | Done |
| 5 | Decision economics | v2.0 | Per-alert time/cost/risk, aggregate impact | Done |
| 6 | Loop 1: Situational Mesh (within-decision) | v2.0 | Situation Analyzer classifies, evaluates options | Done |
| 7 | Loop 2: AgentEvolver (across-decision) | v2.0 | Prompt variant tracking, auto-promotion | Done |
| 8 | ROI Calculator (prospect-specific economics) | v2.5 | Interactive sliders, real-time projections, CFO narrative | **Done** |
| 9 | Outcome Feedback (completes TRIGGERED_EVOLUTION) | v2.5 | Correct/incorrect buttons, asymmetric graph updates, self-correction | **Done** |
| 10 | Policy Conflict Resolution (governance) | v2.5 | Conflicting policy detection, priority resolution, audit trail | **Done** |
| 11 | Prompt Hub / Smart Queries (Typed-Intent early) | v3.0 | Fuzzy matching, "did you mean?", query suggestions | **Moved to v3.0** |
| 12 | Automated outcome detection | v3.0 | SIEM re-open signals, analyst override tracking | Planned |
| 13 | External context ingestion (CONSUME) | v3.0 | Threat intel feeds, CVE databases into graph | Planned |
| 14 | Evidence Ledger (compliance) | v3.0 | Immutable decision records, board-ready export | Planned |
| 15 | Process intelligence integration | v3.0 | Process variant extraction, bottleneck detection | Planned |
| 16 | Full Situational Mesh (sub-150ms scoring) | v3.5 | Multi-signal fusion, drift detection | Planned |
| 17 | Formal Typed-Intent Bus | v3.5 | Intent schema normalization across alert types | Planned |
| 18 | Second domain copilot | v4.0 | ITSM or S2P copilot sharing context graph | Vision |
| 19 | Control Tower routing | v4.0 | Intent routing to specialist copilots via bus | Vision |

**Progress: v2.0 = 7/18 (39%). v2.5 = 10/18 (56%). v3.0 target = 15/18 (83%). v3.5 = 17/18 (94%). v4.0 = 19/19 (100%).**

---

## Current State (v2.5 — Complete)

| Capability | Where | ACCP Primitive | Status |
|---|---|---|---|
| Two learning loops (Situation Analyzer + AgentEvolver) | Tabs 2, 3 | Situational Mesh + AgentEvolver | Done |
| Decision economics (time/cost/risk per option) | Tab 3 | Decision Economics | Done |
| Operational impact narrative ($4,800/mo savings) | Tab 2 | Decision Economics | Done |
| Business impact banner (847 hrs, $127K) | Tab 4 | Decision Economics | Done |
| Two-loop hero diagram | Tab 4 | — (visualization) | Done |
| Blocking demo (eval gate failure) | Tab 2 | Eval Gates | Done |
| Two alert types (travel login + phishing) | Tab 3 | Typed-Intent (implicit) | Done |
| **ROI Calculator (prospect inputs → projections)** | **Tab 4 modal** | **Decision Economics Extended** | **Done (v2.5)** |
| **Outcome Feedback (correct/incorrect → graph update)** | **Tab 3** | **TRIGGERED_EVOLUTION Completed** | **Done (v2.5)** |
| **Policy Conflict (detect, resolve, audit)** | **Tab 3** | **Eval Gates Extended** | **Done (v2.5)** |

### v2.5 Implementation Details

#### ROI Calculator
- Backend: POST /api/roi/calculate + GET /api/roi/defaults (backend/app/routers/roi.py)
- Frontend: ROICalculatorModal component triggered from Tab 4 (frontend/src/components/ROICalculator.tsx)
- 6 inputs: alerts/day, analysts, salary, MTTR, auto-close %, escalation cost
- Outputs: annual savings breakdown, payback period, ROI multiple, CFO narrative
- Calculation verified: $428K (small SOC) to $5.1M (large SOC), credible range
- Bug fixes applied: escalation formula corrected, payback/ROI now vary by SOC size

#### Outcome Feedback
- Backend: POST /api/alert/outcome + GET /api/alert/outcome/status (backend/app/services/feedback.py)
- Frontend: OutcomeFeedback component in Tab 3 after closed loop (frontend/src/components/OutcomeFeedback.tsx)
- Asymmetric updates: correct = +0.3 confidence, incorrect = -6.0 (20:1 ratio)
- Self-correction: incorrect triggers Tier 2 routing for next 5 similar alerts
- Stale closure bug fixed with useRef pattern (preserveFeedbackRef)

#### Policy Conflict
- Backend: GET /api/alert/policy-check + GET /api/alert/policy-history (backend/app/services/policy.py)
- Frontend: PolicyConflict component in Tab 3 between Situation Analyzer and Recommendation (frontend/src/components/PolicyConflict.tsx)
- 4 demo policies, ALERT-7823 triggers conflict (travel auto-close vs high-risk escalate)
- Resolution by priority (1 beats 3), audit trail with CON-2026-XXXX IDs
- Security-first principle applied

### What's Missing (the v3.0/v4.0 gaps)

| Gap | Why It Matters | Version | ACCP Primitive |
|---|---|---|---|
| Queries can't recover from exec mistakes | Execs type vague prompts, get confused | v3.0 | Typed-Intent Bus (early) |
| Backend returns hardcoded data | Deep dive reveals simulation, not real graph reads | v3.0 | Live graph integration |
| No external context sources | Graph feels static, not alive | v3.0 | CONSUME pattern |
| No compliance/audit trail | CISOs report to boards quarterly | v3.0 | Evidence Ledger |
| No process intelligence | Can't show workflow optimization | v3.0 | Situational Mesh (enriched) |
| Single-domain (SOC only) | VCs want to see platform, not point solution | v4.0 | Control Tower + Typed-Intent Bus |

### Critical v3.0 Design Decision: "De-Fake" the Backend

The most important v3.0 investment is making the backend feel real. Currently:
- Outcome Feedback: hardcoded pattern IDs, in-memory state, simulated confidence scores
- Policy Conflict: hardcoded policy definitions, simulated context lookup
- ROI Calculator: pure math with no graph dependency

v3.0 should read actual graph state for feedback and policy operations. This doesn't require real SIEM integration — just reading/writing Neo4j for state management instead of Python dictionaries. This transforms a 10-minute demo into one that survives a 30-minute deep dive.

---

## SECTION 1: v3.0 — Platform Depth

**Theme:** "Make it real. Make it auditable. Make it smart."
**ACCP theme:** Adds CONSUME pattern, Evidence Ledger, Typed-Intent early, and live graph integration.
**Estimated effort:** 12-18 prompts across 4-6 sessions
**Target:** Architecturally unassailable, survives 30-minute deep dive

### 1A. Prompt Hub / Smart Queries [ACCP: Typed-Intent Bus Early]

**Moved from v2.5 to v3.0.** Lower CISO impact than Outcome Feedback and Policy Conflict.

**The Problem:** Executives type vague queries — "show me stuff" or "what's the MTTR thing" — and get confused when the system returns nothing useful.

**The Solution:** Fuzzy matching + suggestion engine that proposes corrections and related queries.

#### Implementation
- Backend: backend/app/services/prompt_hub.py — query registry, fuzzy matching, suggestion engine
- Frontend: "Did you mean?" suggestions in Tab 1, query autocomplete
- Prompts: 10A (backend), 10B (frontend)

### 1B. Live Graph Integration [Critical for Credibility]

**The Problem:** All v2.5 services use in-memory Python state. A 30-minute deep dive reveals this.

**The Solution:** Read/write Neo4j for:
- Outcome feedback: store feedback as graph relationships, read pattern confidence from nodes
- Policy evaluation: read policies from graph nodes, evaluate against real user/alert context
- Decision traces: link feedback outcomes to decision nodes

This is NOT full production integration — it's reading/writing the existing Neo4j schema instead of Python dictionaries.

### 1C. External Context Ingestion [ACCP: CONSUME Pattern]

Feed external threat intelligence into the graph:
- CVE database integration (read-only, scheduled ingestion)
- Threat intel feed simulation (STIX/TAXII format)
- Graph freshness indicators (how old is each context node?)
- Source reliability scoring

### 1D. Evidence Ledger [ACCP: Compliance Substrate]

Immutable decision records for compliance:
- Decision audit export (PDF/CSV for SOC2, NIST, ISO)
- Board-ready quarterly report generation
- Tamper-evident decision chain (hash-linked records)
- Retention policy compliance

### 1E. Process Intelligence Integration [ACCP: Enriched Situational Mesh]

Show workflow optimization potential:
- Process variant extraction from decision traces
- Bottleneck detection (which alert types consume the most time?)
- Agent self-optimization based on process insights
- "Why does this alert type take 45 minutes when it should take 3 seconds?"

---

## SECTION 2: v3.5 / v4.0 — Platform Vision

(Unchanged from v2.0 design doc — see previous version for full specs on Formal Situational Mesh, Typed-Intent Bus, Second Domain Copilot, and Control Tower.)

---

## Implementation Roadmap

### v2.5 Sequence (COMPLETE)

```
Session A: ROI Calculator ✅
  Prompt 7A: Backend endpoint — DONE (commit 8862519)
  Prompt 7B: Frontend modal — DONE (commit ee05f20)
  Prompt 7C: Tab 4 integration — DONE (commit 42d2ca8)

Session B: Outcome Feedback + Policy Conflict ✅
  Prompt 8A: Backend feedback service — DONE (commit cd44ddc)
  Prompt 8B: Frontend feedback panel — DONE (commit f8240f8)
  Prompt 9A: Backend policy service + wiring — DONE (commit 865000a)
  Prompt 9B: Frontend policy panel — DONE (commit e63bc85)
  Bug fix: Stale closure in auto-select — DONE (commit 90438cd)

Tagged: v2.5 (commit e63bc85)
```

### v3.0 Sequence (Planned)

```
Session 1: Prompt Hub (2 prompts)
  Prompt 10A: Backend fuzzy matching + suggestion engine
  Prompt 10B: Frontend "Did you mean?" in Tab 1

Session 2: Live Graph Integration (3-4 prompts)
  Prompt 11A: Migrate feedback state to Neo4j read/write
  Prompt 11B: Migrate policy evaluation to Neo4j read
  Prompt 11C: Link feedback outcomes to decision nodes

Session 3: External Context Ingestion (2-3 prompts)
  Prompt 12A: Threat intel feed simulation
  Prompt 12B: Graph freshness indicators
  Prompt 12C: Source reliability scoring

Session 4: Evidence Ledger (2-3 prompts)
  Prompt 13A: Decision audit export (PDF/CSV)
  Prompt 13B: Tamper-evident decision chain
  Prompt 13C: Quarterly report generation

Session 5: Process Intelligence (2-3 prompts)
  Prompt 14A: Process variant extraction
  Prompt 14B: Bottleneck detection + visualization
```

### Docker + Outreach (Parallel Track)

```
Docker Session: Partner Distribution (4 prompts)
  Prompt D1: Dockerfile.backend
  Prompt D2: Dockerfile.frontend
  Prompt D3: docker-compose.yml + seed script
  Prompt D4: PARTNER_README.md + health checks

Outreach Session: Loom + Content
  - Loom v2 script (updated for v2.5 features)
  - Short Loom (3-minute cut)
  - Updated blog content
```

---

## Appendix: Key Soundbites by Audience

### For CISOs

| Feature | Soundbite |
|---|---|
| ROI Calculator | "Plug in your numbers. See your savings. Take this to your CFO." |
| Outcome Feedback | "When it's wrong, it learns. When it's right, it gets more confident. Your playbooks don't do that." |
| Policy Conflict | "You have conflicting policies right now. You just don't know it. We find them, resolve them, and audit the resolution." |
| Decision Economics | "Every option shows time, cost, and risk. The CFO can read this." |
| Compounding | "847 analyst hours. $127K per quarter. That's the board slide." |
| Self-correction | "Incorrect drops confidence 6 points. The next 5 similar alerts go to a human. The system is designed to be cautious." |

### For VCs

| Feature | Soundbite |
|---|---|
| ACCP Progress | "Ten of eighteen ACCP capabilities are working in the demo today. This isn't a pitch deck — it's a roadmap with running code." |
| Decision Graph Learning | "Every decision makes the graph smarter. Competitors start at zero. We start at 127 validated decisions." |
| Asymmetric Learning | "Correct adds 0.3. Incorrect subtracts 6. Security-first means the system earns trust slowly and loses it fast." |
| Multi-Domain | "SOC copilot learns a pattern. Finance copilot inherits the reasoning structure. Same graph, compounding across domains." |

---

## Appendix: Version History

| Version | Date | Changes |
|---|---|---|
| 1.0 | Feb 17, 2026 | Initial design document (v2.5/v3.0) |
| 2.0 | Feb 18, 2026 | Added ACCP capability map, extended to v3.5/v4.0 |
| 3.0 | Feb 18, 2026 | v2.5 complete. Updated all statuses. Moved Prompt Hub to v3.0. Added "de-fake the backend" design decision. Added v2.5 implementation details with commit hashes. Restructured v3.0 section with Live Graph Integration. |

---

*SOC Copilot Demo Design Document v3.0 | February 18, 2026*
*Status: v2.5 Complete. v3.0 in Design Phase.*
